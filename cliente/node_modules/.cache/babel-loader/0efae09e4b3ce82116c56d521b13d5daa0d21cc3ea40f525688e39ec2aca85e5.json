{"ast":null,"code":"var _jsxFileName = \"/home/eliezer/Projetos/globo-teste-tecnico/client/client/src/components/MoviesComponent.jsx\";\nimport React, { Component } from \"react\";\nimport _ from \"lodash\";\nimport { getMovies } from \"../services/movies\";\nimport MoviesTable from \"./MoviesTable.jsx\";\nimport { moviesTableColumns } from \"../util/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSorting = sortObj => {\n      this.setState({\n        sortObj\n      });\n    };\n    this.state = {\n      movies: [],\n      itemsPerPage: 4,\n      currentPage: 1,\n      sortObj: {\n        name: \"createdTimestamp\",\n        order: \"desc\"\n      }\n    };\n  }\n  async componentDidMount() {\n    this.props.toggleLoaderDisplay();\n    const movies = await getMovies();\n    this.setState({\n      movies\n    });\n    this.props.toggleLoaderDisplay();\n  }\n  render() {\n    const {\n      movies: allMovies,\n      sortObj\n    } = this.state;\n    const {\n      loader\n    } = this.props;\n    if (loader) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 24\n    }, this);else if (allMovies.length === 0) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"No Movies to Display. Try again after a while...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 14\n    }, this);\n    const movies = _.orderBy(allMovies, sortObj.name, sortObj.order);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Newly added Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MoviesTable, {\n        movies: movies,\n        sortObj: sortObj,\n        handleSorting: this.handleSorting,\n        columns: moviesTableColumns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Movies;","map":{"version":3,"names":["React","Component","_","getMovies","MoviesTable","moviesTableColumns","Movies","constructor","props","handleSorting","sortObj","setState","state","movies","itemsPerPage","currentPage","name","order","componentDidMount","toggleLoaderDisplay","render","allMovies","loader","length","orderBy"],"sources":["/home/eliezer/Projetos/globo-teste-tecnico/client/client/src/components/MoviesComponent.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport _ from \"lodash\";\nimport { getMovies } from \"../services/movies\";\nimport MoviesTable from \"./MoviesTable.jsx\";\nimport { moviesTableColumns } from \"../util/constants\";\n\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      itemsPerPage: 4,\n      currentPage: 1,\n      sortObj: { name: \"createdTimestamp\", order: \"desc\" }\n    };\n  }\n\n  async componentDidMount() {\n    this.props.toggleLoaderDisplay();\n    const movies = await getMovies();\n    this.setState({ movies });\n    this.props.toggleLoaderDisplay();\n  }\n\n  handleSorting = sortObj => {\n    this.setState({ sortObj });\n  };\n\n  render() {\n    const { movies: allMovies, sortObj } = this.state;\n    const { loader } = this.props;\n\n    if (loader) return <h1>Loading...</h1>;\n    else if (allMovies.length === 0)\n      return <h1>No Movies to Display. Try again after a while...</h1>;\n\n    const movies = _.orderBy(allMovies, sortObj.name, sortObj.order);\n\n    return (\n      <React.Fragment>\n        <h1>Newly added Movies</h1>\n        <MoviesTable\n          movies={movies}\n          sortObj={sortObj}\n          handleSorting={this.handleSorting}\n          columns={moviesTableColumns}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Movies;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,CAAC,MAAM,QAAQ;AACtB,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,SAASC,kBAAkB,QAAQ,mBAAmB;AAAC;AAEvD,MAAMC,MAAM,SAASL,SAAS,CAAC;EAC7BM,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAC,KAgBfC,aAAa,GAAGC,OAAO,IAAI;MACzB,IAAI,CAACC,QAAQ,CAAC;QAAED;MAAQ,CAAC,CAAC;IAC5B,CAAC;IAjBC,IAAI,CAACE,KAAK,GAAG;MACXC,MAAM,EAAE,EAAE;MACVC,YAAY,EAAE,CAAC;MACfC,WAAW,EAAE,CAAC;MACdL,OAAO,EAAE;QAAEM,IAAI,EAAE,kBAAkB;QAAEC,KAAK,EAAE;MAAO;IACrD,CAAC;EACH;EAEA,MAAMC,iBAAiB,GAAG;IACxB,IAAI,CAACV,KAAK,CAACW,mBAAmB,EAAE;IAChC,MAAMN,MAAM,GAAG,MAAMV,SAAS,EAAE;IAChC,IAAI,CAACQ,QAAQ,CAAC;MAAEE;IAAO,CAAC,CAAC;IACzB,IAAI,CAACL,KAAK,CAACW,mBAAmB,EAAE;EAClC;EAMAC,MAAM,GAAG;IACP,MAAM;MAAEP,MAAM,EAAEQ,SAAS;MAAEX;IAAQ,CAAC,GAAG,IAAI,CAACE,KAAK;IACjD,MAAM;MAAEU;IAAO,CAAC,GAAG,IAAI,CAACd,KAAK;IAE7B,IAAIc,MAAM,EAAE,oBAAO;MAAA,UAAI;IAAU;MAAA;MAAA;MAAA;IAAA,QAAK,CAAC,KAClC,IAAID,SAAS,CAACE,MAAM,KAAK,CAAC,EAC7B,oBAAO;MAAA,UAAI;IAAgD;MAAA;MAAA;MAAA;IAAA,QAAK;IAElE,MAAMV,MAAM,GAAGX,CAAC,CAACsB,OAAO,CAACH,SAAS,EAAEX,OAAO,CAACM,IAAI,EAAEN,OAAO,CAACO,KAAK,CAAC;IAEhE,oBACE,QAAC,KAAK,CAAC,QAAQ;MAAA,wBACb;QAAA,UAAI;MAAkB;QAAA;QAAA;QAAA;MAAA,QAAK,eAC3B,QAAC,WAAW;QACV,MAAM,EAAEJ,MAAO;QACf,OAAO,EAAEH,OAAQ;QACjB,aAAa,EAAE,IAAI,CAACD,aAAc;QAClC,OAAO,EAAEJ;MAAmB;QAAA;QAAA;QAAA;MAAA,QAC5B;IAAA;MAAA;MAAA;MAAA;IAAA,QACa;EAErB;AACF;AAEA,eAAeC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}